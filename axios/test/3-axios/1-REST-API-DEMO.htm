<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>rest-api</title>
</head>

<body>

    <button id="C">post-增</button>
    <button id="R">get-查</button>
    <button id="U">put-更</button>
    <button id="D">delete-删</button>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.21.1/axios.min.js"
        integrity="sha512-bZS47S7sPOxkjU/4Bt0zrhEtWx0y0CRkhEp8IckzK+ltifIIE9EMIMTuT/mEzoIMewUINruDBIR/jJnbguonqQ=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script>

        let create = document.querySelector("#C")
        let read = document.querySelector("#R")
        let update = document.querySelector("#U")
        let del = document.querySelector("#D")

        // 为什么这么写url可以去看json-server的文档
        const restUrl = 'http://127.0.0.1:8888/posts/4'

        create.addEventListener('click', () => {
            console.log('post(create): ');
            axios.post(restUrl, {
                "title": "标题4",
                "author": "毁灭者"
            }).then(response => {
                console.log(response);
            });
        })

        read.addEventListener('click', () => {
            console.log('get(read): ');
            axios.get(restUrl).then(response => {
                console.log(response);
                console.log(response.data);
            });

        })

        update.addEventListener('click', () => {
            console.log('put(update): ');
            axios.put(restUrl,
                {
                    "id": 4,
                    "title": Date(),
                    "author": "毁灭者" + Date()
                }).then(response => {
                    console.log(response);
                });
        })
        del.addEventListener('click', () => {
            console.log('delete: ');
            axios.delete(restUrl).then(
                response => {
                    console.log(response);
                }
            )
        })


    </script>
</body>

</html>